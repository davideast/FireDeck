(function() {var COMPILED=!0,goog=goog||{};goog.global=this;goog.exportPath_=function(a,d,e){a=a.split(".");e=e||goog.global;a[0]in e||!e.execScript||e.execScript("var "+a[0]);for(var f;a.length&&(f=a.shift());)a.length||void 0===d?e=e[f]?e[f]:e[f]={}:e[f]=d};goog.define=function(a,d){var e=d;COMPILED||goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(e=goog.global.CLOSURE_DEFINES[a]);goog.exportPath_(a,e)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;
goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var d=a;(d=d.substring(0,d.lastIndexOf(".")))&&!goog.getObjectByName(d);)goog.implicitNamespaces_[d]=!0}goog.exportPath_(a)};goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};goog.forwardDeclare=function(a){};
COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={});goog.getObjectByName=function(a,d){for(var e=a.split("."),f=d||goog.global,g;g=e.shift();)if(goog.isDefAndNotNull(f[g]))f=f[g];else return null;return f};goog.globalize=function(a,d){var e=d||goog.global,f;for(f in a)e[f]=a[f]};
goog.addDependency=function(a,d,e){if(goog.DEPENDENCIES_ENABLED){var f;a=a.replace(/\\/g,"/");for(var g=goog.dependencies_,h=0;f=d[h];h++)g.nameToPath[f]=a,a in g.pathToNames||(g.pathToNames[a]={}),g.pathToNames[a][f]=!0;for(f=0;d=e[f];f++)a in g.requires||(g.requires[a]={}),g.requires[a][d]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var d=goog.getPathFromDeps_(a);if(d){goog.included_[d]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a,d){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),d=a.length-1;0<=d;--d){var e=a[d].src,f=e.lastIndexOf("?"),f=-1==f?e.length:
f;if("base.js"==e.substr(f-7,7)){goog.basePath=e.substr(0,f-7);break}}},goog.importScript_=function(a){var d=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&d(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var d=goog.global.document;if("complete"==d.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}d.write('<script type="text/javascript" src="'+a+'">\x3c/script>');
return!0}return!1},goog.writeScripts_=function(){function a(g){if(!(g in f.written)){if(!(g in f.visited)&&(f.visited[g]=!0,g in f.requires))for(var k in f.requires[g])if(!goog.isProvided_(k))if(k in f.nameToPath)a(f.nameToPath[k]);else throw Error("Undefined nameToPath for "+k);g in e||(e[g]=!0,d.push(g))}}var d=[],e={},f=goog.dependencies_,g;for(g in goog.included_)f.written[g]||a(g);for(g=0;g<d.length;g++)if(d[g])goog.importScript_(goog.basePath+d[g]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var d=typeof a;if("object"==d)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return d;var e=Object.prototype.toString.call(a);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==d&&"undefined"==typeof a.call)return"object";return d};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var d=goog.typeOf(a);return"array"==d||"object"==d&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var d=typeof a;return"object"==d&&null!=a||"function"==d};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(d){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var d=goog.typeOf(a);if("object"==d||"array"==d){if(a.clone)return a.clone();var d="array"==d?[]:{},e;for(e in a)d[e]=goog.cloneObject(a[e]);return d}return a};goog.bindNative_=function(a,d,e){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,d,e){if(!a)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,f);return a.apply(d,e)}}return function(){return a.apply(d,arguments)}};goog.bind=function(a,d,e){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,d){var e=Array.prototype.slice.call(arguments,1);return function(){var d=e.slice();d.push.apply(d,arguments);return a.apply(this,d)}};goog.mixin=function(a,d){for(var e in d)a[e]=d[e]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var d=goog.global.document,e=d.createElement("script");e.type="text/javascript";e.defer=!1;e.appendChild(d.createTextNode(a));d.body.appendChild(e);
d.body.removeChild(e)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,d){var e=function(a){return goog.cssNameMapping_[a]||a},f=function(a){a=a.split("-");for(var d=[],f=0;f<a.length;f++)d.push(e(a[f]));return d.join("-")},f=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?e:f:function(a){return a};return d?a+"-"+f(d):f(a)};goog.setCssNameMapping=function(a,d){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=d};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,d){var e=d||{},f;for(f in e){var g=(""+e[f]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+f+"\\}","gi"),g)}return a};goog.getMsgWithFallback=function(a,d){return a};goog.exportSymbol=function(a,d,e){goog.exportPath_(a,d,e)};goog.exportProperty=function(a,d,e){a[d]=e};
goog.inherits=function(a,d){function e(){}e.prototype=d.prototype;a.superClass_=d.prototype;a.prototype=new e;a.prototype.constructor=a;a.base=function(a,e,h){var k=Array.prototype.slice.call(arguments,2);return d.prototype[e].apply(a,k)}};
goog.base=function(a,d,e){var f=arguments.callee.caller;if(goog.DEBUG&&!f)throw Error("arguments.caller not defined.  goog.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(f.superClass_)return f.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),h=!1,k=a.constructor;k;k=k.superClass_&&k.superClass_.constructor)if(k.prototype[d]===f)h=!0;else if(h)return k.prototype[d].apply(a,
g);if(a[d]===f)return a.constructor.prototype[d].apply(a,g);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){a.call(goog.global)};var fb={simplelogin:{}};fb.simplelogin.Vars_=function(){this.apiHost="https://auth.firebase.com"};fb.simplelogin.Vars_.prototype.setApiHost=function(a){this.apiHost=a};fb.simplelogin.Vars_.prototype.getApiHost=function(){return this.apiHost};fb.simplelogin.Vars=new fb.simplelogin.Vars_;goog.json={};goog.json.USE_NATIVE_JSON=!1;goog.json.isValid_=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};
goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){a=String(a);if(goog.json.isValid_(a))try{return eval("("+a+")")}catch(d){}throw Error("Invalid JSON string: "+a);};goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){return eval("("+a+")")};goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(a,d){return(new goog.json.Serializer(d)).serialize(a)};goog.json.Serializer=function(a){this.replacer_=a};
goog.json.Serializer.prototype.serialize=function(a){var d=[];this.serialize_(a,d);return d.join("")};
goog.json.Serializer.prototype.serialize_=function(a,d){switch(typeof a){case "string":this.serializeString_(a,d);break;case "number":this.serializeNumber_(a,d);break;case "boolean":d.push(a);break;case "undefined":d.push("null");break;case "object":if(null==a){d.push("null");break}if(goog.isArray(a)){this.serializeArray(a,d);break}this.serializeObject_(a,d);break;case "function":break;default:throw Error("Unknown type: "+typeof a);}};
goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(a,d){d.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){if(a in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[a];var d=a.charCodeAt(0),g="\\u";16>d?g+="000":256>d?g+="00":4096>d&&(g+="0");return goog.json.Serializer.charToJsonCharCache_[a]=g+d.toString(16)}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(a,d){d.push(isFinite(a)&&!isNaN(a)?a:"null")};
goog.json.Serializer.prototype.serializeArray=function(a,d){var e=a.length;d.push("[");for(var f="",g=0;g<e;g++)d.push(f),f=a[g],this.serialize_(this.replacer_?this.replacer_.call(a,String(g),f):f,d),f=",";d.push("]")};
goog.json.Serializer.prototype.serializeObject_=function(a,d){d.push("{");var e="",f;for(f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var g=a[f];"function"!=typeof g&&(d.push(e),this.serializeString_(f,d),d.push(":"),this.serialize_(this.replacer_?this.replacer_.call(a,f,g):g,d),e=",")}d.push("}")};fb.simplelogin.util={};fb.simplelogin.util.json={};fb.simplelogin.util.json.parse=function(a){return"undefined"!==typeof JSON&&goog.isDef(JSON.parse)?JSON.parse(a):goog.json.parse(a)};fb.simplelogin.util.json.stringify=function(a){return"undefined"!==typeof JSON&&goog.isDef(JSON.stringify)?JSON.stringify(a):goog.json.serialize(a)};fb.simplelogin.transports={};fb.simplelogin.transports.Transport={};fb.simplelogin.Transport=function(){};fb.simplelogin.Transport.prototype.open=function(a,d,e){};fb.simplelogin.transports.Popup={};fb.simplelogin.Popup=function(){};fb.simplelogin.Popup.prototype.open=function(a,d,e){};fb.simplelogin.util.misc={};fb.simplelogin.util.misc.parseUrl=function(a){var d=document.createElement("a");d.href=a;return{protocol:d.protocol.replace(":",""),host:d.hostname,port:d.port,query:d.search,params:fb.simplelogin.util.misc.parseQuerystring(d.search),hash:d.hash.replace("#",""),path:d.pathname.replace(/^([^\/])/,"/$1")}};fb.simplelogin.util.misc.parseQuerystring=function(a){var d={};a=a.replace(/^\?/,"").split("&");for(var e=0;e<a.length;e++)if(a[e]){var f=a[e].split("=");d[f[0]]=f[1]}return d};
fb.simplelogin.util.misc.parseSubdomain=function(a){var d="";try{var e=fb.simplelogin.util.misc.parseUrl(a).host.split(".");2<e.length&&(d=e.slice(0,-2).join("."))}catch(f){}return d};fb.simplelogin.util.misc.warn=function(a){"undefined"!==typeof console&&("undefined"!==typeof console.warn?console.warn(a):console.log(a))};var popupTimeout=4E4;fb.simplelogin.transports.CordovaInAppBrowser_=function(){};
fb.simplelogin.transports.CordovaInAppBrowser_.prototype.open=function(a,d,e){callbackInvoked=!1;var f=function(){var a=Array.prototype.slice.apply(arguments);callbackInvoked||(callbackInvoked=!0,e.apply(null,a))},g=window.open(a+"&transport=internal-redirect-hash","blank","location=no");g.addEventListener("loadstop",function(a){var d;if(a&&a.url&&(a=fb.simplelogin.util.misc.parseUrl(a.url),"/blank/page.html"===a.path)){g.close();try{var e=fb.simplelogin.util.misc.parseQuerystring(decodeURIComponent(a.hash));
a={};for(var m in e)a[m]=fb.simplelogin.util.json.parse(e[m]);d=a}catch(p){}d&&d.token&&d.user?f(null,d):d&&d.error?f(d.error):f({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})}});g.addEventListener("exit",function(a){f({code:"USER_DENIED",message:"User cancelled the authentication request."})});setTimeout(function(){g&&g.close&&g.close()},popupTimeout)};fb.simplelogin.transports.CordovaInAppBrowser=new fb.simplelogin.transports.CordovaInAppBrowser_;fb.simplelogin.Errors={};var messagePrefix="FirebaseSimpleLogin: ",errors={UNKNOWN_ERROR:"An unknown error occurred.",INVALID_EMAIL:"Invalid email specified.",INVALID_PASSWORD:"Invalid password specified.",USER_DENIED:"User cancelled the authentication request.",TRIGGER_IO_TABS:'The "forge.tabs" module required when using Firebase Simple Login and                         Trigger.io. Without this module included and enabled, login attempts to                         OAuth authentication providers will not be able to complete.'};
fb.simplelogin.Errors.format=function(a,d){var e=a||"UNKNOWN_ERROR",f=d||errors[e],g={},h=arguments;2===h.length?(e=h[0],f=h[1]):1===h.length&&("object"===typeof h[0]&&h[0].code&&h[0].message?(e=h[0].code,f=h[0].message,g=h[0].data):"string"===typeof h[0]&&(e=h[0],f=""));f=Error(messagePrefix+f);f.code=e;g&&(f.data=g);return f};fb.simplelogin.Errors.get=function(a){errors[a]||(a="UNKNOWN_ERROR");return fb.simplelogin.Errors.format(a,errors[a])};var RELAY_FRAME_NAME="__winchan_relay_frame",CLOSE_CMD="die";function addListener(a,d,e){a.attachEvent?a.attachEvent("on"+d,e):a.addEventListener&&a.addEventListener(d,e,!1)}function removeListener(a,d,e){a.detachEvent?a.detachEvent("on"+d,e):a.removeEventListener&&a.removeEventListener(d,e,!1)}function extractOrigin(a){/^https?:\/\//.test(a)||(a=window.location.href);var d=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return d?d[1]:a}
function findRelay(){for(var a=window.location,d=window.opener.frames,a=a.protocol+"//"+a.host,e=d.length-1;0<=e;e--)try{if(0===d[e].location.href.indexOf(a)&&d[e].name===RELAY_FRAME_NAME)return d[e]}catch(f){}}
var isInternetExplorer=function(){var a,d=-1,e=navigator.userAgent;"Microsoft Internet Explorer"===navigator.appName?(a=/MSIE ([0-9]{1,}[\.0-9]{0,})/,(a=e.match(a))&&1<a.length&&(d=parseFloat(a[1]))):-1<e.indexOf("Trident")&&(a=/rv:([0-9]{2,2}[\.0-9]{0,})/,(a=e.match(a))&&1<a.length&&(d=parseFloat(a[1])));return 8<=d}();fb.simplelogin.transports.WinChan_=function(){};
fb.simplelogin.transports.WinChan_.prototype.open=function(a,d,e){function f(){k&&document.body.removeChild(k);k=void 0;q&&(q=clearInterval(q));removeListener(window,"message",g);removeListener(window,"unload",f);if(p)try{p.close()}catch(a){m.postMessage(CLOSE_CMD,l)}p=m=void 0}function g(a){if(a.origin===l)try{var d=fb.simplelogin.util.json.parse(a.data);"ready"===d.a?m.postMessage(n,l):"error"===d.a?(f(),e&&(e(d.d),e=null)):"response"===d.a&&(f(),e&&(e(null,d.d),e=null))}catch(g){}}if(!e)throw"missing required callback argument";
d.url=a;var h;d.url||(h="missing required 'url' parameter");d.relay_url||(h="missing required 'relay_url' parameter");h&&setTimeout(function(){e(h)},0);d.window_name||(d.window_name=null);if(!d.window_features||fb.simplelogin.util.env.isFennec())d.window_features=void 0;var k,l=extractOrigin(d.url);if(l!==extractOrigin(d.relay_url))return setTimeout(function(){e("invalid arguments: origin of url and relay_url must match")},0);var m;isInternetExplorer&&(k=document.createElement("iframe"),k.setAttribute("src",
d.relay_url),k.style.display="none",k.setAttribute("name",RELAY_FRAME_NAME),document.body.appendChild(k),m=k.contentWindow);var p=window.open(d.url,d.window_name,d.window_features);m||(m=p);var q=setInterval(function(){p&&p.closed&&(f(),e&&(e("unknown closed window"),e=null))},500),n=fb.simplelogin.util.json.stringify({a:"request",d:d.params});addListener(window,"unload",f);addListener(window,"message",g);return{close:f,focus:function(){if(p)try{p.focus()}catch(a){}}}};
goog.exportSymbol("fb.simplelogin.transports.WinChan_.prototype.open",fb.simplelogin.transports.WinChan_.prototype.open);
fb.simplelogin.transports.WinChan_.prototype.onOpen=function(a){function d(a){a=fb.simplelogin.util.json.stringify(a);isInternetExplorer?h.doPost(a,g):h.postMessage(a,g)}function e(f){var h;try{h=fb.simplelogin.util.json.parse(f.data)}catch(k){}h&&"request"===h.a&&(removeListener(window,"message",e),g=f.origin,a&&setTimeout(function(){a(g,h.d,function(e){a=void 0;d({a:"response",d:e})})},0))}function f(a){if(a.data===CLOSE_CMD)try{window.close()}catch(d){}}var g="*",h=isInternetExplorer?findRelay():
window.opener;if(!h)throw"can't find relay frame";addListener(isInternetExplorer?h:window,"message",e);addListener(isInternetExplorer?h:window,"message",f);try{d({a:"ready"})}catch(k){addListener(h,"load",function(a){d({a:"ready"})})}var l=function(){try{removeListener(isInternetExplorer?h:window,"message",f)}catch(e){}a&&d({a:"error",d:"client closed window"});a=void 0;try{window.close()}catch(g){}};addListener(window,"unload",l);return{detach:function(){removeListener(window,"unload",l)}}};
goog.exportSymbol("fb.simplelogin.transports.WinChan_.prototype.onOpen",fb.simplelogin.transports.WinChan_.prototype.onOpen);fb.simplelogin.transports.WinChan_.prototype.isAvailable=function(){return fb.simplelogin.util.json&&fb.simplelogin.util.json.parse&&fb.simplelogin.util.json.stringify&&window.postMessage};fb.simplelogin.transports.WinChan=new fb.simplelogin.transports.WinChan_;fb.simplelogin.transports.TriggerIoTab_=function(){};
fb.simplelogin.transports.TriggerIoTab_.prototype.open=function(a,d,e){callbackInvoked=!1;var f=function(){var a=Array.prototype.slice.apply(arguments);callbackInvoked||(callbackInvoked=!0,e.apply(null,a))};forge.tabs.openWithOptions({url:a+"&transport=internal-redirect-hash",pattern:fb.simplelogin.Vars.getApiHost()+"/blank/page*"},function(a){var d;if(a&&a.url)try{var e=fb.simplelogin.util.misc.parseUrl(a.url),l=fb.simplelogin.util.misc.parseQuerystring(decodeURIComponent(e.hash));a={};for(var m in l)a[m]=
fb.simplelogin.util.json.parse(l[m]);d=a}catch(p){}d&&d.token&&d.user?f(null,d):d&&d.error?f(d.error):f({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})},function(a){f({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})};fb.simplelogin.transports.TriggerIoTab=new fb.simplelogin.transports.TriggerIoTab_;var b,c;
!function(){var a={},d={};b=function(d,f,g){a[d]={deps:f,callback:g}};c=function(e){function f(a){if("."!==a.charAt(0))return a;a=a.split("/");for(var d=e.split("/").slice(0,-1),f=0,g=a.length;g>f;f++){var h=a[f];".."===h?d.pop():"."!==h&&d.push(h)}return d.join("/")}if(d[e])return d[e];if(d[e]={},!a[e])throw Error("Could not find module "+e);for(var g,h=a[e],k=h.deps,h=h.callback,l=[],m=0,p=k.length;p>m;m++)l.push("exports"===k[m]?g={}:c(f(k[m])));k=h.apply(this,l);return d[e]=g||k};c.entries=a}();
b("rsvp/all-settled",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=d.isArray,h=d.isNonThenable;e["default"]=function(a,d){return new f(function(d){function e(a){return function(d){n(a,{state:"fulfilled",value:d})}}function l(a){return function(d){n(a,{state:"rejected",reason:d})}}function n(a,e){v[a]=e;0===--t&&d(v)}if(!g(a))throw new TypeError("You must pass an array to allSettled.");var r,t=a.length;if(0===t)return void d([]);for(var v=Array(t),w=0;w<a.length;w++)r=a[w],
h(r)?n(w,{state:"fulfilled",value:r}):f.resolve(r).then(e(w),l(w))},d)}});b("rsvp/all",["./promise","exports"],function(a,d){var e=a["default"];d["default"]=function(a,d){return e.all(a,d)}});
b("rsvp/asap",["exports"],function(a){function d(){return function(){process.nextTick(g)}}function e(){var a=0,d=new k(g),e=document.createTextNode("");return d.observe(e,{characterData:!0}),function(){e.data=a=++a%2}}function f(){return function(){setTimeout(g,1)}}function g(){for(var a=0;a<l.length;a++){var d=l[a];(0,d[0])(d[1])}l.length=0}a["default"]=function(a,d){1===l.push([a,d])&&h()};var h;a="undefined"!=typeof window?window:{};var k=a.MutationObserver||a.WebKitMutationObserver,l=[];h="undefined"!=
typeof process&&"[object process]"==={}.toString.call(process)?d():k?e():f()});b("rsvp/config",["./events","exports"],function(a,d){var e={instrument:!1};a["default"].mixin(e);d.config=e;d.configure=function(a,d){return"onerror"===a?void e.on("error",d):2!==arguments.length?e[a]:void(e[a]=d)}});b("rsvp/defer",["./promise","exports"],function(a,d){var e=a["default"];d["default"]=function(a){var d={};return d.promise=new e(function(a,e){d.resolve=a;d.reject=e},a),d}});
b("rsvp/events",["exports"],function(a){function d(a,d){for(var e=0,k=a.length;k>e;e++)if(a[e]===d)return e;return-1}function e(a){var d=a._promiseCallbacks;return d||(d=a._promiseCallbacks={}),d}a["default"]={mixin:function(a){return a.on=this.on,a.off=this.off,a.trigger=this.trigger,a._promiseCallbacks=void 0,a},on:function(a,g){var h,k=e(this);(h=k[a])||(h=k[a]=[]);-1===d(h,g)&&h.push(g)},off:function(a,g){var h,k,l=e(this);return g?(h=l[a],k=d(h,g),void(-1!==k&&h.splice(k,1))):void(l[a]=[])},
trigger:function(a,d){var h;if(h=e(this)[a])for(var k=0;k<h.length;k++)(0,h[k])(d)}}});
b("rsvp/filter",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=d.isFunction;e["default"]=function(a,d,e){return f.all(a,e).then(function(a){if(!g(d))throw new TypeError("You must pass a function as filter's second argument.");for(var h=a.length,q=Array(h),n=0;h>n;n++)q[n]=d(a[n]);return f.all(q,e).then(function(d){for(var e=Array(h),f=0,g=0;h>g;g++)!0===d[g]&&(e[f]=a[g],f++);return e.length=f,e})})}});
b("rsvp/hash-settled",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=d.isNonThenable,h=d.keysOf;e["default"]=function(a){return new f(function(d){function e(a){return function(d){q(a,{state:"fulfilled",value:d})}}function p(a){return function(d){q(a,{state:"rejected",reason:d})}}function q(a,e){t[a]=e;0===--w&&d(t)}var n,r,t={},v=h(a),w=v.length;if(0===w)return void d(t);for(var u=0;u<v.length;u++)r=v[u],n=a[r],g(n)?q(r,{state:"fulfilled",value:n}):f.resolve(n).then(e(r),p(r))})}});
b("rsvp/hash",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=d.isNonThenable,h=d.keysOf;e["default"]=function(a){return new f(function(d,e){function p(a){return function(e){t[a]=e;0===--w&&d(t)}}function q(a){w=0;e(a)}var n,r,t={},v=h(a),w=v.length;if(0===w)return void d(t);for(var u=0;u<v.length;u++)r=v[u],n=a[r],g(n)?(t[r]=n,0===--w&&d(t)):f.resolve(n).then(p(r),q)})}});
b("rsvp/instrument",["./config","./utils","exports"],function(a,d,e){var f=a.config,g=d.now;e["default"]=function(a,d,e){try{f.trigger(a,{guid:d._guidKey+d._id,eventName:a,detail:d._detail,childGuid:e&&d._guidKey+e._id,label:d._label,timeStamp:g(),stack:Error(d._label).stack})}catch(m){setTimeout(function(){throw m;},0)}}});
b("rsvp/map",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=(d.isArray,d.isFunction);e["default"]=function(a,d,e){return f.all(a,e).then(function(a){if(!g(d))throw new TypeError("You must pass a function as map's second argument.");for(var h=a.length,q=Array(h),n=0;h>n;n++)q[n]=d(a[n]);return f.all(q,e)})}});
b("rsvp/node",["./promise","./utils","exports"],function(a,d,e){var f=a["default"],g=d.isArray;e["default"]=function(a,d){function e(){for(var g=arguments.length,l=Array(g),r=0;g>r;r++)l[r]=arguments[r];var t;return m||p||!d?t=this:(console.warn('Deprecation: RSVP.denodeify() doesn\'t allow setting the "this" binding anymore. Use yourFunction.bind(yourThis) instead.'),t=d),f.all(l).then(function(e){return new f(function(f,g){e.push(function(){for(var a=arguments.length,e=Array(a),h=0;a>h;h++)e[h]=
arguments[h];a=e[0];h=e[1];if(a)g(a);else if(m)f(e.slice(1));else if(p){for(var a={},l=e.slice(1),h=0;h<d.length;h++)e=d[h],a[e]=l[h];f(a)}else f(h)});a.apply(t,e)})})}var m=!0===d,p=g(d);return e.__proto__=a,e}});
b("rsvp/promise","./config ./events ./instrument ./utils ./promise/cast ./promise/all ./promise/race ./promise/resolve ./promise/reject exports".split(" "),function(a,d,e,f,g,h,k,l,m,p){function q(){}function n(a,d){if(!C(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=
I++;this._label=d;this._subscribers=[];A.instrument&&D("created",this);q!==a&&r(a,this)}function r(a,d){function e(a){x(d,a)}function f(a){z(d,a)}try{a(e,f)}catch(g){f(g)}}function t(a,d,e,f){a=a._subscribers;var g=a.length;a[g]=d;a[g+B]=e;a[g+E]=f}function v(a,d){var e,f,g=a._subscribers,h=a._detail;A.instrument&&D(d===B?"fulfilled":"rejected",a);for(var k=0;k<g.length;k+=3)e=g[k],f=g[k+d],w(d,e,f,h);a._subscribers=null}function w(a,d,e,f){var g,h,k,l,m=C(e);if(m)try{g=e(f),k=!0}catch(n){l=!0,h=
n}else g=f,k=!0;u(d,g)||(m&&k?x(d,g):l?z(d,h):a===B?x(d,g):a===E&&z(d,g))}function u(a,d){var e,f=null;try{if(a===d)throw new TypeError("A promises callback cannot return that same promise.");if(J(d)&&(f=d.then,C(f)))return f.call(d,function(f){return e?!0:(e=!0,void(d!==f?x(a,f):y(a,f)))},function(d){return e?!0:(e=!0,void z(a,d))},"Settle: "+(a._label||" unknown promise")),!0}catch(g){return e?!0:(z(a,g),!0)}return!1}function x(a,d){a===d?y(a,d):u(a,d)||y(a,d)}function y(a,d){a._state===F&&(a._state=
G,a._detail=d,A.async(H,a))}function z(a,d){a._state===F&&(a._state=G,a._detail=d,A.async(K,a))}function H(a){v(a,a._state=B)}function K(a){a._onerror&&a._onerror(a._detail);v(a,a._state=E)}var A=a.config,D=(d["default"],e["default"]),J=f.objectOrFunction,C=f.isFunction;a=f.now;g=g["default"];h=h["default"];k=k["default"];l=l["default"];m=m["default"];a="rsvp_"+a()+"-";var I=0;p["default"]=n;n.cast=g;n.all=h;n.race=k;n.resolve=l;n.reject=m;var F=void 0,G=0,B=1,E=2;n.prototype={constructor:n,_id:void 0,
_guidKey:a,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(a){A.trigger("error",a)},then:function(a,d,e){var f=this;this._onerror=null;var g=new this.constructor(q,e);if(this._state){var h=arguments;A.async(function(){w(f._state,g,h[f._state-1],f._detail)})}else t(this,g,a,d);return A.instrument&&D("chained",f,g),g},"catch":function(a,d){return this.then(null,a,d)},"finally":function(a,d){var e=this.constructor;return this.then(function(d){return e.resolve(a()).then(function(){return d})},
function(d){return e.resolve(a()).then(function(){throw d;})},d)}}});
b("rsvp/promise/all",["../utils","exports"],function(a,d){var e=a.isArray,f=a.isNonThenable;d["default"]=function(a,d){var k=this;return new k(function(d,h){function p(a){return function(e){t[a]=e;0===--r&&d(t)}}function q(a){r=0;h(a)}if(!e(a))throw new TypeError("You must pass an array to all.");var n,r=a.length,t=Array(r);if(0===r)return void d(t);for(var v=0;v<a.length;v++)n=a[v],f(n)?(t[v]=n,0===--r&&d(t)):k.resolve(n).then(p(v),q)},d)}});
b("rsvp/promise/cast",["exports"],function(a){a["default"]=function(a,e){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(e){e(a)},e)}});
b("rsvp/promise/race",["../utils","exports"],function(a,d){var e=a.isArray,f=(a.isFunction,a.isNonThenable);d["default"]=function(a,d){var k,l=this;return new l(function(d,h){function q(a){r&&(r=!1,d(a))}function n(a){r&&(r=!1,h(a))}if(!e(a))throw new TypeError("You must pass an array to race.");for(var r=!0,t=0;t<a.length;t++){if(k=a[t],f(k))return r=!1,void d(k);l.resolve(k).then(q,n)}},d)}});
b("rsvp/promise/reject",["exports"],function(a){a["default"]=function(a,e){return new this(function(e,g){g(a)},e)}});b("rsvp/promise/resolve",["exports"],function(a){a["default"]=function(a,e){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(e){e(a)},e)}});b("rsvp/race",["./promise","exports"],function(a,d){var e=a["default"];d["default"]=function(a,d){return e.race(a,d)}});
b("rsvp/reject",["./promise","exports"],function(a,d){var e=a["default"];d["default"]=function(a,d){return e.reject(a,d)}});b("rsvp/resolve",["./promise","exports"],function(a,d){var e=a["default"];d["default"]=function(a,d){return e.resolve(a,d)}});b("rsvp/rethrow",["exports"],function(a){a["default"]=function(a){throw setTimeout(function(){throw a;}),a;}});
b("rsvp/utils",["exports"],function(a){function d(a){return"function"==typeof a||"object"==typeof a&&null!==a}a.objectOrFunction=d;a.isFunction=function(a){return"function"==typeof a};a.isNonThenable=function(a){return!d(a)};a.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=Date.now||function(){return(new Date).getTime()};a.keysOf=Object.keys||function(a){var d=[],g;for(g in a)d.push(g);return d}});
b("rsvp","./rsvp/promise ./rsvp/events ./rsvp/node ./rsvp/all ./rsvp/all-settled ./rsvp/race ./rsvp/hash ./rsvp/hash-settled ./rsvp/rethrow ./rsvp/defer ./rsvp/config ./rsvp/map ./rsvp/resolve ./rsvp/reject ./rsvp/filter ./rsvp/asap exports".split(" "),function(a,d,e,f,g,h,k,l,m,p,q,n,r,t,v,w,u){function x(){y.on.apply(y,arguments)}a=a["default"];d=d["default"];e=e["default"];f=f["default"];g=g["default"];h=h["default"];k=k["default"];l=l["default"];m=m["default"];p=p["default"];var y=q.config;q=
q.configure;n=n["default"];r=r["default"];t=t["default"];v=v["default"];if(y.async=w["default"],"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){w=window.__PROMISE_INSTRUMENTATION__;q("instrument",!0);for(var z in w)w.hasOwnProperty(z)&&x(z,w[z])}u.Promise=a;u.EventTarget=d;u.all=f;u.allSettled=g;u.race=h;u.hash=k;u.hashSettled=l;u.rethrow=m;u.defer=p;u.denodeify=e;u.configure=q;u.on=x;u.off=function(){y.off.apply(y,arguments)};u.resolve=r;u.reject=t;u.async=function(a,
d){y.async(a,d)};u.map=n;u.filter=v});fb.simplelogin.util.RSVP=c("rsvp");fb.simplelogin.util.env={};fb.simplelogin.util.env.hasLocalStorage=function(a){try{if(localStorage){localStorage.setItem("firebase-sentinel","test");var d=localStorage.getItem("firebase-sentinel");localStorage.removeItem("firebase-sentinel");return"test"===d}}catch(e){}return!1};
fb.simplelogin.util.env.hasSessionStorage=function(a){try{if(sessionStorage){sessionStorage.setItem("firebase-sentinel","test");var d=sessionStorage.getItem("firebase-sentinel");sessionStorage.removeItem("firebase-sentinel");return"test"===d}}catch(e){}return!1};fb.simplelogin.util.env.isMobileCordovaInAppBrowser=function(){return(window.cordova||window.CordovaInAppBrowser||window.phonegap)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)};
fb.simplelogin.util.env.isMobileTriggerIoTab=function(){return window.forge&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)};fb.simplelogin.util.env.isWindowsMetro=function(){return!!window.Windows&&/^ms-appx:/.test(location.href)};fb.simplelogin.util.env.isChromeiOS=function(){return!!navigator.userAgent.match(/CriOS/)};fb.simplelogin.util.env.isTwitteriOS=function(){return!!navigator.userAgent.match(/Twitter for iPhone/)};fb.simplelogin.util.env.isFacebookiOS=function(){return!!navigator.userAgent.match(/FBAN\/FBIOS/)};
fb.simplelogin.util.env.isWindowsPhone=function(){return!!navigator.userAgent.match(/Windows Phone/)};fb.simplelogin.util.env.isStandaloneiOS=function(){return!!window.navigator.standalone};fb.simplelogin.util.env.isPhantomJS=function(){return!!navigator.userAgent.match(/PhantomJS/)};
fb.simplelogin.util.env.isIeLT10=function(){var a,d=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName&&(a=/MSIE ([0-9]{1,}[\.0-9]{0,})/,(a=e.match(a))&&1<a.length&&(d=parseFloat(a[1])),10>d)?!0:!1};fb.simplelogin.util.env.isFennec=function(){try{var a=navigator.userAgent;return-1!=a.indexOf("Fennec/")||-1!=a.indexOf("Firefox/")&&-1!=a.indexOf("Android")}catch(d){}return!1};fb.simplelogin.transports.XHR_=function(){};
fb.simplelogin.transports.XHR_.prototype.open=function(a,d,e){var f=this,g={contentType:"application/json"},h=new XMLHttpRequest,k=(g.method||"GET").toUpperCase(),l=g.contentType||"application/x-www-form-urlencoded",m=!1,p;h.onreadystatechange=function(){if(!m&&4===h.readyState){m=!0;var a,d;try{a=fb.simplelogin.util.json.parse(h.responseText),d=a.error||null,delete a.error}catch(g){}return!a||d?e&&e(f.formatError_(d)):e&&e(d,a)}};d&&("GET"===k?(-1===a.indexOf("?")&&(a+="?"),a+=this.formatQueryString(d),
d=null):("application/json"===l&&(d=fb.simplelogin.util.json.stringify(d)),"application/x-www-form-urlencoded"===l&&(d=this.formatQueryString(d))));h.open(k,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain","Content-Type":l};g.headers=g.headers||{};for(p in g.headers)a[p]=g.headers[p];for(p in a)h.setRequestHeader(p,a[p]);h.send(d)};
fb.simplelogin.transports.XHR_.prototype.isAvailable=function(){return window.XMLHttpRequest&&"function"===typeof window.XMLHttpRequest&&!fb.simplelogin.util.env.isIeLT10()};fb.simplelogin.transports.XHR_.prototype.formatQueryString=function(a){if(!a)return"";var d=[],e;for(e in a)d.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return d.join("&")};fb.simplelogin.transports.XHR_.prototype.formatError_=function(a){return a?fb.simplelogin.Errors.format(a):fb.simplelogin.Errors.get("UNKNOWN_ERROR")};
fb.simplelogin.transports.XHR=new fb.simplelogin.transports.XHR_;fb.simplelogin.util.validation={};var VALID_EMAIL_REGEX_=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})+$/;fb.simplelogin.util.validation.validateArgCount=function(a,d,e,f){var g;f<d?g="at least "+d:f>e&&(g=0===e?"none":"no more than "+e);if(g)throw Error(a+" failed: Was called with "+f+(1===f?" argument.":" arguments.")+" Expects "+g+".");};fb.simplelogin.util.validation.isValidEmail=function(a){return goog.isString(a)&&VALID_EMAIL_REGEX_.test(a)};
fb.simplelogin.util.validation.isValidPassword=function(a){return goog.isString(a)};fb.simplelogin.util.validation.isValidNamespace=function(a){return goog.isString(a)};
fb.simplelogin.util.validation.errorPrefix_=function(a,d,e){var f="";switch(d){case 1:f=e?"first":"First";break;case 2:f=e?"second":"Second";break;case 3:f=e?"third":"Third";break;case 4:f=e?"fourth":"Fourth";break;default:fb.core.util.validation.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(f+" argument ")};
fb.simplelogin.util.validation.validateNamespace=function(a,d,e,f){if((!f||goog.isDef(e))&&!goog.isString(e))throw Error(fb.simplelogin.util.validation.errorPrefix_(a,d,f)+"must be a valid firebase namespace.");};fb.simplelogin.util.validation.validateCallback=function(a,d,e,f){if((!f||goog.isDef(e))&&!goog.isFunction(e))throw Error(fb.simplelogin.util.validation.errorPrefix_(a,d,f)+"must be a valid function.");};
fb.simplelogin.util.validation.validateString=function(a,d,e,f){if((!f||goog.isDef(e))&&!goog.isString(e))throw Error(fb.simplelogin.util.validation.errorPrefix_(a,d,f)+"must be a valid string.");};fb.simplelogin.util.validation.validateContextObject=function(a,d,e,f){if(!f||goog.isDef(e))if(!goog.isObject(e)||null===e)throw Error(fb.simplelogin.util.validation.errorPrefix_(a,d,f)+"must be a valid context object.");};var CALLBACK_NAMESPACE="_FirebaseSimpleLoginJSONP";fb.simplelogin.transports.JSONP_=function(){window[CALLBACK_NAMESPACE]=window[CALLBACK_NAMESPACE]||{}};fb.simplelogin.transports.JSONP_.prototype.open=function(a,d,e){a+=/\?/.test(a)?"":"?";a+="&transport=jsonp";for(var f in d)a+="&"+encodeURIComponent(f)+"="+encodeURIComponent(d[f]);d=this.generateRequestId_();a+="&callback="+encodeURIComponent(CALLBACK_NAMESPACE+"."+d);this.registerCallback_(d,e);this.writeScriptTag_(d,a,e)};
fb.simplelogin.transports.JSONP_.prototype.generateRequestId_=function(){return"_FirebaseJSONP"+(new Date).getTime()+Math.floor(100*Math.random())};fb.simplelogin.transports.JSONP_.prototype.registerCallback_=function(a,d){var e=this;window[CALLBACK_NAMESPACE][a]=function(f){var g=f.error||null;delete f.error;d(g,f);e.removeCallback_(a)}};
fb.simplelogin.transports.JSONP_.prototype.removeCallback_=function(a){setTimeout(function(){delete window[CALLBACK_NAMESPACE][a];var d=document.getElementById(a);d&&d.parentNode.removeChild(d)},0)};
fb.simplelogin.transports.JSONP_.prototype.writeScriptTag_=function(a,d,e){var f=this;setTimeout(function(){try{var g=document.createElement("script");g.type="text/javascript";g.id=a;g.async=!0;g.src=d;g.onerror=function(){var d=document.getElementById(a);null!==d&&d.parentNode.removeChild(d);e&&e(f.formatError_({code:"SERVER_ERROR",message:"An unknown server error occurred."}))};var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h)}catch(k){e&&e(f.formatError_({code:"SERVER_ERROR",
message:"An unknown server error occurred."}))}},0)};fb.simplelogin.transports.JSONP_.prototype.formatError_=function(a){var d;a?(d=Error(a.message),d.code=a.code||"UNKNOWN_ERROR"):(d=Error(),d.code="UNKNOWN_ERROR");return d};fb.simplelogin.transports.JSONP=new fb.simplelogin.transports.JSONP_;fb.simplelogin.providers={};fb.simplelogin.providers.Password_=function(){};fb.simplelogin.providers.Password_.prototype.getTransport_=function(){return fb.simplelogin.transports.XHR.isAvailable()?fb.simplelogin.transports.XHR:fb.simplelogin.transports.JSONP};
fb.simplelogin.providers.Password_.prototype.login=function(a,d){var e=fb.simplelogin.Vars.getApiHost()+"/auth/firebase";if(!fb.simplelogin.util.validation.isValidNamespace(a.firebase))return d&&d(fb.simplelogin.Errors.get("INVALID_FIREBASE"));this.getTransport_().open(e,a,d)};
fb.simplelogin.providers.Password_.prototype.createUser=function(a,d){var e=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/create";if(!fb.simplelogin.util.validation.isValidNamespace(a.firebase))return d&&d(fb.simplelogin.Errors.get("INVALID_FIREBASE"));if(!fb.simplelogin.util.validation.isValidEmail(a.email))return d&&d(fb.simplelogin.Errors.get("INVALID_EMAIL"));if(!fb.simplelogin.util.validation.isValidPassword(a.password))return d&&d(fb.simplelogin.Errors.get("INVALID_PASSWORD"));this.getTransport_().open(e,
a,d)};
fb.simplelogin.providers.Password_.prototype.changePassword=function(a,d){var e=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/update";if(!fb.simplelogin.util.validation.isValidNamespace(a.firebase))return d&&d(fb.simplelogin.Errors.get("INVALID_FIREBASE"));if(!fb.simplelogin.util.validation.isValidEmail(a.email))return d&&d(fb.simplelogin.Errors.get("INVALID_EMAIL"));if(!fb.simplelogin.util.validation.isValidPassword(a.newPassword))return d&&d(fb.simplelogin.Errors.get("INVALID_PASSWORD"));this.getTransport_().open(e,
a,d)};
fb.simplelogin.providers.Password_.prototype.removeUser=function(a,d){var e=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/remove";if(!fb.simplelogin.util.validation.isValidNamespace(a.firebase))return d&&d(fb.simplelogin.Errors.get("INVALID_FIREBASE"));if(!fb.simplelogin.util.validation.isValidEmail(a.email))return d&&d(fb.simplelogin.Errors.get("INVALID_EMAIL"));if(!fb.simplelogin.util.validation.isValidPassword(a.password))return d&&d(fb.simplelogin.Errors.get("INVALID_PASSWORD"));this.getTransport_().open(e,a,
d)};fb.simplelogin.providers.Password_.prototype.sendPasswordResetEmail=function(a,d){var e=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/reset_password";if(!fb.simplelogin.util.validation.isValidNamespace(a.firebase))return d&&d(fb.simplelogin.Errors.get("INVALID_FIREBASE"));if(!fb.simplelogin.util.validation.isValidEmail(a.email))return d&&d(fb.simplelogin.Errors.get("INVALID_EMAIL"));this.getTransport_().open(e,a,d)};fb.simplelogin.providers.Password=new fb.simplelogin.providers.Password_;fb.simplelogin.transports.WindowsMetroAuthBroker_=function(){};
fb.simplelogin.transports.WindowsMetroAuthBroker_.prototype.open=function(a,d,e){var f,g,h,k,l,m;try{f=window.Windows.Foundation.Uri,g=window.Windows.Security.Authentication.Web.WebAuthenticationOptions,h=window.Windows.Security.Authentication.Web.WebAuthenticationBroker,k=h.authenticateAsync}catch(p){return e({code:"WINDOWS_METRO",message:'"Windows.Security.Authentication.Web.WebAuthenticationBroker" required when using Firebase Simple Login in Windows Metro context'})}l=!1;m=function(){var a=Array.prototype.slice.apply(arguments);
l||(l=!0,e.apply(null,a))};a=new f(a+"&transport=internal-redirect-hash");f=new f(fb.simplelogin.Vars.getApiHost()+"/blank/page.html");k(g.none,a,f).done(function(a){var d;if(a&&a.responseData)try{var e=fb.simplelogin.util.misc.parseUrl(a.responseData),f=fb.simplelogin.util.misc.parseQuerystring(decodeURIComponent(e.hash));a={};for(var g in f)a[g]=fb.simplelogin.util.json.parse(f[g]);d=a}catch(h){}d&&d.token&&d.user?m(null,d):d&&d.error?m(d.error):m({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})},
function(a){m({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})};fb.simplelogin.transports.WindowsMetroAuthBroker=new fb.simplelogin.transports.WindowsMetroAuthBroker_;goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,d){return 0==a.lastIndexOf(d,0)};goog.string.endsWith=function(a,d){var e=a.length-d.length;return 0<=e&&a.indexOf(d,e)==e};goog.string.caseInsensitiveStartsWith=function(a,d){return 0==goog.string.caseInsensitiveCompare(d,a.substr(0,d.length))};goog.string.caseInsensitiveEndsWith=function(a,d){return 0==goog.string.caseInsensitiveCompare(d,a.substr(a.length-d.length,d.length))};
goog.string.caseInsensitiveEquals=function(a,d){return a.toLowerCase()==d.toLowerCase()};goog.string.subs=function(a,d){for(var e=a.split("%s"),f="",g=Array.prototype.slice.call(arguments,1);g.length&&1<e.length;)f+=e.shift()+g.shift();return f+e.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};
goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};
goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,d){var e=String(a).toLowerCase(),f=String(d).toLowerCase();return e<f?-1:e==f?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,d){if(a==d)return 0;if(!a)return-1;if(!d)return 1;for(var e=a.toLowerCase().match(goog.string.numerateCompareRegExp_),f=d.toLowerCase().match(goog.string.numerateCompareRegExp_),g=Math.min(e.length,f.length),h=0;h<g;h++){var k=e[h],l=f[h];if(k!=l)return e=parseInt(k,10),!isNaN(e)&&(f=parseInt(l,10),!isNaN(f)&&e-f)?e-f:k<l?-1:1}return e.length!=f.length?e.length-f.length:a<d?-1:1};goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};
goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,d){return a.replace(/(\r\n|\r|\n)/g,d?"<br />":"<br>")};
goog.string.htmlEscape=function(a,d){if(d)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;").replace(goog.string.singleQuoteRe_,"&#39;");if(!goog.string.allRe_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,
"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(goog.string.singleQuoteRe_,"&#39;"));return a};goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/"/g;goog.string.singleQuoteRe_=/'/g;goog.string.allRe_=/[&<>"']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesWithDocument=function(a,d){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,d):a};
goog.string.unescapeEntitiesUsingDom_=function(a,d){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},f;f=d?d.createElement("div"):document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,d){var k=e[a];if(k)return k;if("#"==d.charAt(0)){var l=Number("0"+d.substr(1));isNaN(l)||(k=String.fromCharCode(l))}k||(f.innerHTML=a+" ",k=f.firstChild.nodeValue.slice(0,-1));return e[a]=k})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,e){switch(e){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==e.charAt(0)){var f=Number("0"+e.substr(1));if(!isNaN(f))return String.fromCharCode(f)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,d){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),d)};
goog.string.stripQuotes=function(a,d){for(var e=d.length,f=0;f<e;f++){var g=1==e?d:d.charAt(f);if(a.charAt(0)==g&&a.charAt(a.length-1)==g)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,d,e){e&&(a=goog.string.unescapeEntities(a));a.length>d&&(a=a.substring(0,d-3)+"...");e&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,d,e,f){e&&(a=goog.string.unescapeEntities(a));if(f&&a.length>d){f>d&&(f=d);var g=a.length-f;a=a.substring(0,d-f)+"..."+a.substring(g)}else a.length>d&&(f=Math.floor(d/2),g=a.length-f,a=a.substring(0,f+d%2)+"..."+a.substring(g));e&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var d=['"'],e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);d[e+1]=goog.string.specialEscapeChars_[f]||(31<g&&127>g?f:goog.string.escapeChar(f))}d.push('"');return d.join("")};goog.string.escapeString=function(a){for(var d=[],e=0;e<a.length;e++)d[e]=goog.string.escapeChar(a.charAt(e));return d.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var d=a,e=a.charCodeAt(0);if(31<e&&127>e)d=a;else{if(256>e){if(d="\\x",16>e||256<e)d+="0"}else d="\\u",4096>e&&(d+="0");d+=e.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=d};goog.string.toMap=function(a){for(var d={},e=0;e<a.length;e++)d[a.charAt(e)]=!0;return d};
goog.string.contains=function(a,d){return-1!=a.indexOf(d)};goog.string.countOf=function(a,d){return a&&d?a.split(d).length-1:0};goog.string.removeAt=function(a,d,e){var f=a;0<=d&&d<a.length&&0<e&&(f=a.substr(0,d)+a.substr(d+e,a.length-d-e));return f};goog.string.remove=function(a,d){var e=RegExp(goog.string.regExpEscape(d),"");return a.replace(e,"")};goog.string.removeAll=function(a,d){var e=RegExp(goog.string.regExpEscape(d),"g");return a.replace(e,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,d){return Array(d+1).join(a)};goog.string.padNumber=function(a,d,e){a=goog.isDef(e)?a.toFixed(e):String(a);e=a.indexOf(".");-1==e&&(e=a.length);return goog.string.repeat("0",Math.max(0,d-e))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,d){for(var e=0,f=goog.string.trim(String(a)).split("."),g=goog.string.trim(String(d)).split("."),h=Math.max(f.length,g.length),k=0;0==e&&k<h;k++){var l=f[k]||"",m=g[k]||"",p=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var n=p.exec(l)||["","",""],r=q.exec(m)||["","",""];if(0==n[0].length&&0==r[0].length)break;var e=0==n[1].length?0:parseInt(n[1],10),t=0==r[1].length?0:parseInt(r[1],10),e=goog.string.compareElements_(e,t)||goog.string.compareElements_(0==
n[2].length,0==r[2].length)||goog.string.compareElements_(n[2],r[2])}while(0==e)}return e};goog.string.compareElements_=function(a,d){return a<d?-1:a>d?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var d=0,e=0;e<a.length;++e)d=31*d+a.charCodeAt(e),d%=goog.string.HASHCODE_MAX_;return d};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var d=Number(a);return 0==d&&goog.string.isEmpty(a)?NaN:d};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,e){return e.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(a,d){var e=goog.isString(d)?goog.string.regExpEscape(d):"\\s";return a.replace(RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(a,d,e){return d+e.toUpperCase()})};goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.string.splitLimit=function(a,d,e){a=a.split(d);for(var f=[];0<e&&a.length;)f.push(a.shift()),e--;a.length&&f.push(a.join(d));return f};fb.simplelogin.providers.Persona_=function(){};fb.simplelogin.providers.Persona_.prototype.login=function(a,d){navigator.id.watch({onlogin:function(a){d(a)},onlogout:function(){}});a=a||{};a.oncancel=function(){d(null)};navigator.id.request(a)};fb.simplelogin.providers.Persona=new fb.simplelogin.providers.Persona_;var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
"undefined"!=typeof module&&module.exports&&(module.exports=sjcl);
sjcl.cipher.aes=function(a){this.h[0][0][0]||this.w();var d,e,f,g,h=this.h[0][4],k=this.h[1];d=a.length;var l=1;if(4!==d&&6!==d&&8!==d)throw new sjcl.exception.invalid("invalid aes key size");this.a=[f=a.slice(0),g=[]];for(a=d;a<4*d+28;a++){e=f[a-1];if(0===a%d||8===d&&4===a%d)e=h[e>>>24]<<24^h[e>>16&255]<<16^h[e>>8&255]<<8^h[e&255],0===a%d&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7));f[a]=f[a-d]^e}for(d=0;a;d++,a--)e=f[d&3?a:a-4],g[d]=4>=a||4>d?e:k[0][h[e>>>24]]^k[1][h[e>>16&255]]^k[2][h[e>>8&255]]^k[3][h[e&
255]]};
sjcl.cipher.aes.prototype={encrypt:function(a){return this.G(a,0)},decrypt:function(a){return this.G(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var a=this.h[0],d=this.h[1],e=a[4],f=d[4],g,h,k,l=[],m=[],p,q,n,r;for(g=0;256>g;g++)m[(l[g]=g<<1^283*(g>>7))^g]=g;for(h=k=0;!e[h];h^=p||1,k=m[k]||1)for(n=k^k<<1^k<<2^k<<3^k<<4,n=n>>8^n&255^99,e[h]=n,f[n]=h,q=l[g=l[p=l[h]]],r=16843009*q^65537*g^257*p^16843008*h,q=257*l[n]^16843008*n,g=0;4>g;g++)a[g][h]=q=q<<24^q>>>8,d[g][n]=r=r<<24^r>>>8;for(g=
0;5>g;g++)a[g]=a[g].slice(0),d[g]=d[g].slice(0)},G:function(a,d){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var e=this.a[d],f=a[0]^e[0],g=a[d?3:1]^e[1],h=a[2]^e[2];a=a[d?1:3]^e[3];var k,l,m,p=e.length/4-2,q,n=4,r=[0,0,0,0];k=this.h[d];var t=k[0],v=k[1],w=k[2],u=k[3],x=k[4];for(q=0;q<p;q++)k=t[f>>>24]^v[g>>16&255]^w[h>>8&255]^u[a&255]^e[n],l=t[g>>>24]^v[h>>16&255]^w[a>>8&255]^u[f&255]^e[n+1],m=t[h>>>24]^v[a>>16&255]^w[f>>8&255]^u[g&255]^e[n+2],a=t[a>>>24]^v[f>>16&255]^
w[g>>8&255]^u[h&255]^e[n+3],n+=4,f=k,g=l,h=m;for(q=0;4>q;q++)r[d?3&-q:q]=x[f>>>24]<<24^x[g>>16&255]<<16^x[h>>8&255]<<8^x[a&255]^e[n++],k=f,f=g,g=h,h=a,a=k;return r}};
sjcl.bitArray={bitSlice:function(a,d,e){a=sjcl.bitArray.N(a.slice(d/32),32-(d&31)).slice(1);return void 0===e?a:sjcl.bitArray.clamp(a,e-d)},extract:function(a,d,e){var f=Math.floor(-d-e&31);return((d+e-1^d)&-32?a[d/32|0]<<32-f^a[d/32+1|0]>>>f:a[d/32|0]>>>f)&(1<<e)-1},concat:function(a,d){if(0===a.length||0===d.length)return a.concat(d);var e=a[a.length-1],f=sjcl.bitArray.getPartial(e);return 32===f?a.concat(d):sjcl.bitArray.N(d,f,e|0,a.slice(0,a.length-1))},bitLength:function(a){var d=a.length;return 0===
d?0:32*(d-1)+sjcl.bitArray.getPartial(a[d-1])},clamp:function(a,d){if(32*a.length<d)return a;a=a.slice(0,Math.ceil(d/32));var e=a.length;d&=31;0<e&&d&&(a[e-1]=sjcl.bitArray.partial(d,a[e-1]&2147483648>>d-1,1));return a},partial:function(a,d,e){return 32===a?d:(e?d|0:d<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,d){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(d))return!1;var e=0,f;for(f=0;f<a.length;f++)e|=a[f]^d[f];return 0===
e},N:function(a,d,e,f){var g;for(void 0===f&&(f=[]);32<=d;d-=32)f.push(e),e=0;if(0===d)return f.concat(a);for(g=0;g<a.length;g++)f.push(e|a[g]>>>d),e=a[g]<<32-d;g=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(g);f.push(sjcl.bitArray.partial(d+a&31,32<d+a?e:f.pop(),1));return f},O:function(a,d){return[a[0]^d[0],a[1]^d[1],a[2]^d[2],a[3]^d[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var d="",e=sjcl.bitArray.bitLength(a),f,g;for(f=0;f<e/8;f++)0===(f&3)&&(g=a[f/4]),d+=String.fromCharCode(g>>>24),g<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var d=[],e,f=0;for(e=0;e<a.length;e++)f=f<<8|a.charCodeAt(e),3===(e&3)&&(d.push(f),f=0);e&3&&d.push(sjcl.bitArray.partial(8*(e&3),f));return d}};
sjcl.codec.base64={C:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,d,e){var f="",g=0,h=sjcl.codec.base64.C,k=0,l=sjcl.bitArray.bitLength(a);e&&(h=h.substr(0,62)+"-_");for(e=0;6*f.length<l;)f+=h.charAt((k^a[e]>>>g)>>>26),6>g?(k=a[e]<<6-g,g+=26,e++):(k<<=6,g-=6);for(;f.length&3&&!d;)f+="=";return f},toBits:function(a,d){a=a.replace(/\s|=/g,"");var e=[],f=0,g=sjcl.codec.base64.C,h=0,k;d&&(g=g.substr(0,62)+"-_");for(d=0;d<a.length;d++){k=g.indexOf(a.charAt(d));
if(0>k)throw new sjcl.exception.invalid("this isn't base64!");26<f?(f-=26,e.push(h^k>>>f),h=k<<32-f):(f+=6,h^=k<<32-f)}f&56&&e.push(sjcl.bitArray.partial(f&56,h,1));return e}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.a[0]||this.w();a?(this.m=a.m.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.m=this.L.slice(0);this.i=[];this.e=0;return this},update:function(a){"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var d,e=this.i=sjcl.bitArray.concat(this.i,a);d=this.e;a=this.e=d+sjcl.bitArray.bitLength(a);for(d=512+d&-512;d<=a;d+=512)this.B(e.splice(0,16));return this},finalize:function(){var a,d=this.i,e=this.m,d=sjcl.bitArray.concat(d,[sjcl.bitArray.partial(1,1)]);for(a=d.length+2;a&15;a++)d.push(0);d.push(Math.floor(this.e/
4294967296));for(d.push(this.e|0);d.length;)this.B(d.splice(0,16));this.reset();return e},L:[],a:[],w:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var d=0,e=2,f;a:for(;64>d;e++){for(f=2;f*f<=e;f++)if(0===e%f)continue a;8>d&&(this.L[d]=a(Math.pow(e,0.5)));this.a[d]=a(Math.pow(e,1/3));d++}},B:function(a){var d,e,f=a.slice(0),g=this.m,h=this.a,k=g[0],l=g[1],m=g[2],p=g[3],q=g[4],n=g[5],r=g[6],t=g[7];for(a=0;64>a;a++)16>a?d=f[a]:(d=f[a+1&15],e=f[a+14&15],d=f[a&15]=(d>>>7^d>>>18^d>>>3^
d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[a&15]+f[a+9&15]|0),d=d+t+(q>>>6^q>>>11^q>>>25^q<<26^q<<21^q<<7)+(r^q&(n^r))+h[a],t=r,r=n,n=q,q=p+d|0,p=m,m=l,l=k,k=d+(l&m^p&(l^m))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;g[0]=g[0]+k|0;g[1]=g[1]+l|0;g[2]=g[2]+m|0;g[3]=g[3]+p|0;g[4]=g[4]+q|0;g[5]=g[5]+n|0;g[6]=g[6]+r|0;g[7]=g[7]+t|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,d,e,f,g){var h,k=d.slice(0),l=sjcl.bitArray,m=l.bitLength(e)/8,p=l.bitLength(k)/8;g=g||64;f=f||[];if(7>m)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(h=2;4>h&&p>>>8*h;h++);h<15-m&&(h=15-m);e=l.clamp(e,8*(15-h));d=sjcl.mode.ccm.F(a,d,e,f,g,h);k=sjcl.mode.ccm.H(a,k,e,d,g,h);return l.concat(k.data,k.tag)},decrypt:function(a,d,e,f,g){g=g||64;f=f||[];var h=sjcl.bitArray,k=h.bitLength(e)/8,l=h.bitLength(d),m=h.clamp(d,l-g),p=h.bitSlice(d,
l-g),l=(l-g)/8;if(7>k)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(d=2;4>d&&l>>>8*d;d++);d<15-k&&(d=15-k);e=h.clamp(e,8*(15-d));m=sjcl.mode.ccm.H(a,m,e,p,g,d);a=sjcl.mode.ccm.F(a,m.data,e,f,g,d);if(!h.equal(m.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return m.data},F:function(a,d,e,f,g,h){var k=[],l=sjcl.bitArray,m=l.O;g/=8;if(g%2||4>g||16<g)throw new sjcl.exception.invalid("ccm: invalid tag length");if(4294967295<f.length||4294967295<d.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");
h=[l.partial(8,(f.length?64:0)|g-2<<2|h-1)];h=l.concat(h,e);h[3]|=l.bitLength(d)/8;h=a.encrypt(h);if(f.length)for(e=l.bitLength(f)/8,65279>=e?k=[l.partial(16,e)]:4294967295>=e&&(k=l.concat([l.partial(16,65534)],[e])),k=l.concat(k,f),f=0;f<k.length;f+=4)h=a.encrypt(m(h,k.slice(f,f+4).concat([0,0,0])));for(f=0;f<d.length;f+=4)h=a.encrypt(m(h,d.slice(f,f+4).concat([0,0,0])));return l.clamp(h,8*g)},H:function(a,d,e,f,g,h){var k,l=sjcl.bitArray;k=l.O;var m=d.length,p=l.bitLength(d);e=l.concat([l.partial(8,
h-1)],e).concat([0,0,0]).slice(0,4);f=l.bitSlice(k(f,a.encrypt(e)),0,g);if(!m)return{tag:f,data:[]};for(k=0;k<m;k+=4)e[3]++,g=a.encrypt(e),d[k]^=g[0],d[k+1]^=g[1],d[k+2]^=g[2],d[k+3]^=g[3];return{tag:f,data:l.clamp(d,p)}}};sjcl.misc.hmac=function(a,d){this.K=d=d||sjcl.hash.sha256;var e=[[],[]],f=d.prototype.blockSize/32;this.k=[new d,new d];a.length>f&&(a=d.hash(a));for(d=0;d<f;d++)e[0][d]=a[d]^909522486,e[1][d]=a[d]^1549556828;this.k[0].update(e[0]);this.k[1].update(e[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){a=(new this.K(this.k[0])).update(a).finalize();return(new this.K(this.k[1])).update(a).finalize()};
sjcl.misc.pbkdf2=function(a,d,e,f,g){e=e||1E3;if(0>f||0>e)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));g=g||sjcl.misc.hmac;a=new g(a);var h,k,l,m,p=[],q=sjcl.bitArray;for(m=1;32*p.length<(f||1);m++){g=h=a.encrypt(q.concat(d,[m]));for(k=1;k<e;k++)for(h=a.encrypt(h),l=0;l<h.length;l++)g[l]^=h[l];p=p.concat(g)}f&&(p=q.clamp(p,f));return p};
sjcl.random={randomWords:function(a,d){var e=[];d=this.isReady(d);var f;if(0===d)throw new sjcl.exception.notReady("generator isn't seeded");d&2&&this.T(!(d&1));for(d=0;d<a;d+=4)0===(d+1)%65536&&this.J(),f=this.u(),e.push(f[0],f[1],f[2],f[3]);this.J();return e.slice(0,a)},setDefaultParanoia:function(a){this.s=a},addEntropy:function(a,d,e){e=e||"user";var f,g,h=(new Date).valueOf(),k=this.p[e],l=this.isReady(),m=0;f=this.D[e];void 0===f&&(f=this.D[e]=this.Q++);void 0===k&&(k=this.p[e]=0);this.p[e]=
(this.p[e]+1)%this.b.length;switch(typeof a){case "number":void 0===d&&(d=1);this.b[k].update([f,this.t++,1,d,h,1,a|0]);break;case "object":e=Object.prototype.toString.call(a);if("[object Uint32Array]"===e){g=[];for(e=0;e<a.length;e++)g.push(a[e]);a=g}else for("[object Array]"!==e&&(m=1),e=0;e<a.length&&!m;e++)"number"!=typeof a[e]&&(m=1);if(!m){if(void 0===d)for(e=d=0;e<a.length;e++)for(g=a[e];0<g;)d++,g>>>=1;this.b[k].update([f,this.t++,2,d,h,a.length].concat(a))}break;case "string":void 0===d&&
(d=a.length);this.b[k].update([f,this.t++,3,d,h,a.length]);this.b[k].update(a);break;default:m=1}if(m)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[k]+=d;this.f+=d;0===l&&(0!==this.isReady()&&this.I("seeded",Math.max(this.g,this.f)),this.I("progress",this.getProgress()))},isReady:function(a){a=this.A[void 0!==a?a:this.s];return this.g&&this.g>=a?80<this.j[0]&&(new Date).valueOf()>this.M?3:1:this.f>=a?2:0},getProgress:function(a){a=this.A[a?
a:this.s];return this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.l){if(window.addEventListener)window.addEventListener("load",this.n,!1),window.addEventListener("mousemove",this.o,!1);else if(document.attachEvent)document.attachEvent("onload",this.n),document.attachEvent("onmousemove",this.o);else throw new sjcl.exception.bug("can't attach event");this.l=!0}},stopCollectors:function(){this.l&&(window.removeEventListener?(window.removeEventListener("load",this.n,!1),window.removeEventListener("mousemove",
this.o,!1)):window.detachEvent&&(window.detachEvent("onload",this.n),window.detachEvent("onmousemove",this.o)),this.l=!1)},addEventListener:function(a,d){this.q[a][this.P++]=d},removeEventListener:function(a,d){var e;a=this.q[a];var f=[];for(e in a)a.hasOwnProperty(e)&&a[e]===d&&f.push(e);for(d=0;d<f.length;d++)e=f[d],delete a[e]},b:[new sjcl.hash.sha256],j:[0],z:0,p:{},t:0,D:{},Q:0,g:0,f:0,M:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],r:void 0,s:6,l:!1,q:{progress:{},seeded:{}},P:0,A:[0,48,64,96,128,192,256,
384,512,768,1024],u:function(){for(var a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);return this.r.encrypt(this.d)},J:function(){this.a=this.u().concat(this.u());this.r=new sjcl.cipher.aes(this.a)},S:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.r=new sjcl.cipher.aes(this.a);for(a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);},T:function(a){var d=[],e=0,f;this.M=d[0]=(new Date).valueOf()+3E4;for(f=0;16>f;f++)d.push(4294967296*Math.random()|0);for(f=0;f<this.b.length&&(d=
d.concat(this.b[f].finalize()),e+=this.j[f],this.j[f]=0,a||!(this.z&1<<f));f++);this.z>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.j.push(0));this.f-=e;e>this.g&&(this.g=e);this.z++;this.S(d)},o:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},n:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},I:function(a,d){var e;a=sjcl.random.q[a];var f=[];for(e in a)a.hasOwnProperty(e)&&f.push(a[e]);for(e=0;e<f.length;e++)f[e](d)}};
try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t$$2){}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,d,e,f){e=e||{};f=f||{};var g=sjcl.json,h=g.c({iv:sjcl.random.randomWords(4,0)},g.defaults),k;g.c(h,e);e=h.adata;"string"===typeof h.salt&&(h.salt=sjcl.codec.base64.toBits(h.salt));"string"===typeof h.iv&&(h.iv=sjcl.codec.base64.toBits(h.iv));if(!sjcl.mode[h.mode]||!sjcl.cipher[h.cipher]||"string"===typeof a&&100>=h.iter||64!==h.ts&&96!==h.ts&&128!==h.ts||128!==h.ks&&192!==h.ks&&256!==h.ks||2>h.iv.length||
4<h.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof a&&(k=sjcl.misc.cachedPbkdf2(a,h),a=k.key.slice(0,h.ks/32),h.salt=k.salt);"string"===typeof d&&(d=sjcl.codec.utf8String.toBits(d));"string"===typeof e&&(e=sjcl.codec.utf8String.toBits(e));k=new sjcl.cipher[h.cipher](a);g.c(f,h);f.key=a;h.ct=sjcl.mode[h.mode].encrypt(k,d,h.iv,e,h.ts);return g.encode(h)},decrypt:function(a,d,e,f){e=e||{};f=f||{};var g=sjcl.json;d=g.c(g.c(g.c({},g.defaults),g.decode(d)),
e,!0);var h;e=d.adata;"string"===typeof d.salt&&(d.salt=sjcl.codec.base64.toBits(d.salt));"string"===typeof d.iv&&(d.iv=sjcl.codec.base64.toBits(d.iv));if(!sjcl.mode[d.mode]||!sjcl.cipher[d.cipher]||"string"===typeof a&&100>=d.iter||64!==d.ts&&96!==d.ts&&128!==d.ts||128!==d.ks&&192!==d.ks&&256!==d.ks||!d.iv||2>d.iv.length||4<d.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof a&&(h=sjcl.misc.cachedPbkdf2(a,d),a=h.key.slice(0,d.ks/32),d.salt=h.salt);"string"===
typeof e&&(e=sjcl.codec.utf8String.toBits(e));h=new sjcl.cipher[d.cipher](a);e=sjcl.mode[d.mode].decrypt(h,d.ct,d.iv,e,d.ts);g.c(f,d);f.key=a;return sjcl.codec.utf8String.fromBits(e)},encode:function(a){var d,e="{",f="";for(d in a)if(a.hasOwnProperty(d)){if(!d.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");e+=f+'"'+d+'":';f=",";switch(typeof a[d]){case "number":case "boolean":e+=a[d];break;case "string":e+='"'+escape(a[d])+'"';break;case "object":e+='"'+
sjcl.codec.base64.fromBits(a[d],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return e+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var d={},e,f;for(e=0;e<a.length;e++){if(!(f=a[e].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");d[f[2]]=
f[3]?parseInt(f[3],10):f[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(f[4]):unescape(f[4])}return d},c:function(a,d,e){void 0===a&&(a={});if(void 0===d)return a;for(var f in d)if(d.hasOwnProperty(f)){if(e&&void 0!==a[f]&&a[f]!==d[f])throw new sjcl.exception.invalid("required parameter overridden");a[f]=d[f]}return a},V:function(a,d){var e={},f;for(f in a)a.hasOwnProperty(f)&&a[f]!==d[f]&&(e[f]=a[f]);return e},U:function(a,d){var e={},f;for(f=0;f<d.length;f++)void 0!==a[d[f]]&&(e[d[f]]=a[d[f]]);
return e}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.R={};sjcl.misc.cachedPbkdf2=function(a,d){var e=sjcl.misc.R,f;d=d||{};f=d.iter||1E3;e=e[a]=e[a]||{};f=e[f]=e[f]||{firstSalt:d.salt&&d.salt.length?d.salt.slice(0):sjcl.random.randomWords(2,0)};e=void 0===d.salt?f.firstSalt:d.salt;f[e]=f[e]||sjcl.misc.pbkdf2(a,e,d.iter);return{key:f[e].slice(0),salt:e.slice(0)}};fb.simplelogin.util.sjcl=sjcl;goog.net={};goog.net.Cookies=function(a){this.document_=a};goog.net.Cookies.MAX_COOKIE_LENGTH=3950;goog.net.Cookies.SPLIT_RE_=/\s*;\s*/;goog.net.Cookies.prototype.isEnabled=function(){return navigator.cookieEnabled};goog.net.Cookies.prototype.isValidName=function(a){return!/[;=\s]/.test(a)};goog.net.Cookies.prototype.isValidValue=function(a){return!/[;\r\n]/.test(a)};
goog.net.Cookies.prototype.set=function(a,d,e,f,g,h){if(!this.isValidName(a))throw Error('Invalid cookie name "'+a+'"');if(!this.isValidValue(d))throw Error('Invalid cookie value "'+d+'"');goog.isDef(e)||(e=-1);g=g?";domain="+g:"";f=f?";path="+f:"";h=h?";secure":"";e=0>e?"":0==e?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(goog.now()+1E3*e)).toUTCString();this.setCookie_(a+"="+d+g+f+e+h)};
goog.net.Cookies.prototype.get=function(a,d){for(var e=a+"=",f=this.getParts_(),g=0,h;h=f[g];g++){if(0==h.lastIndexOf(e,0))return h.substr(e.length);if(h==a)return""}return d};goog.net.Cookies.prototype.remove=function(a,d,e){var f=this.containsKey(a);this.set(a,"",0,d,e);return f};goog.net.Cookies.prototype.getKeys=function(){return this.getKeyValues_().keys};goog.net.Cookies.prototype.getValues=function(){return this.getKeyValues_().values};goog.net.Cookies.prototype.isEmpty=function(){return!this.getCookie_()};
goog.net.Cookies.prototype.getCount=function(){return this.getCookie_()?this.getParts_().length:0};goog.net.Cookies.prototype.containsKey=function(a){return goog.isDef(this.get(a))};goog.net.Cookies.prototype.containsValue=function(a){for(var d=this.getKeyValues_().values,e=0;e<d.length;e++)if(d[e]==a)return!0;return!1};goog.net.Cookies.prototype.clear=function(){for(var a=this.getKeyValues_().keys,d=a.length-1;0<=d;d--)this.remove(a[d])};
goog.net.Cookies.prototype.setCookie_=function(a){this.document_.cookie=a};goog.net.Cookies.prototype.getCookie_=function(){return this.document_.cookie};goog.net.Cookies.prototype.getParts_=function(){return(this.getCookie_()||"").split(goog.net.Cookies.SPLIT_RE_)};goog.net.Cookies.prototype.getKeyValues_=function(){for(var a=this.getParts_(),d=[],e=[],f,g,h=0;g=a[h];h++)f=g.indexOf("="),-1==f?(d.push(""),e.push(g)):(d.push(g.substring(0,f)),e.push(g.substring(f+1)));return{keys:d,values:e}};
goog.net.cookies=new goog.net.Cookies(document);goog.net.cookies.MAX_COOKIE_LENGTH=goog.net.Cookies.MAX_COOKIE_LENGTH;var cookieStoragePath="/",encryptionStorageKey="firebaseSessionKey",sessionPersistentStorageKey="firebaseSession",hasLocalStorage=fb.simplelogin.util.env.hasLocalStorage();fb.simplelogin.SessionStore_=function(){};
fb.simplelogin.SessionStore_.prototype.set=function(a,d){if(hasLocalStorage)try{var e=a.sessionKey,f=sjcl.encrypt(e,fb.simplelogin.util.json.stringify(a));localStorage.setItem(sessionPersistentStorageKey,fb.simplelogin.util.json.stringify(f));goog.net.cookies.set(encryptionStorageKey,e,d?86400*d:-1,cookieStoragePath,null,!1)}catch(g){}};
fb.simplelogin.SessionStore_.prototype.get=function(){if(hasLocalStorage){try{var a=goog.net.cookies.get(encryptionStorageKey),d=localStorage.getItem(sessionPersistentStorageKey);if(a&&d)return fb.simplelogin.util.json.parse(sjcl.decrypt(a,fb.simplelogin.util.json.parse(d)))}catch(e){}return null}};fb.simplelogin.SessionStore_.prototype.clear=function(){hasLocalStorage&&(localStorage.removeItem(sessionPersistentStorageKey),goog.net.cookies.remove(encryptionStorageKey,cookieStoragePath,null))};
fb.simplelogin.SessionStore=new fb.simplelogin.SessionStore_;var CLIENT_VERSION="1.4.1";
fb.simplelogin.client=function(a,d,e,f){function g(a,d,e){setTimeout(function(){a(d,e)},0)}this.mRef=a;this.mNamespace=fb.simplelogin.util.misc.parseSubdomain(a.toString());this.sessionLengthDays=null;window._FirebaseSimpleLogin=window._FirebaseSimpleLogin||{};window._FirebaseSimpleLogin.callbacks=window._FirebaseSimpleLogin.callbacks||[];window._FirebaseSimpleLogin.callbacks.push({cb:d,ctx:e});"file:"!==window.location.protocol||fb.simplelogin.util.env.isPhantomJS()||fb.simplelogin.util.env.isMobileCordovaInAppBrowser()||fb.simplelogin.util.misc.warn("FirebaseSimpleLogin(): Due to browser security restrictions, loading applications via `file://*` URLs will prevent popup-based authentication providers from working properly. When testing locally, you'll need to run a barebones webserver on your machine rather than loading your test files via `file://*`. The easiest way to run a barebones server on your local machine is to `cd` to the root directory of your code and run `python -m SimpleHTTPServer`, which will allow you to access your content via `http://127.0.0.1:8000/*`.");
f&&fb.simplelogin.Vars.setApiHost(f);this.mLoginStateChange=function(a,d){var e=window._FirebaseSimpleLogin.callbacks||[];Array.prototype.slice.apply(arguments);for(var f=0;f<e.length;f++){var p=e[f],q=!!a||"undefined"===typeof p.user;if(!q){var n,r;p.user&&p.user.firebaseAuthToken&&(n=p.user.firebaseAuthToken);d&&d.firebaseAuthToken&&(r=d.firebaseAuthToken);q=(n||r)&&n!==r}window._FirebaseSimpleLogin.callbacks[f].user=d||null;q&&g(goog.bind(p.cb,p.ctx),a,d)}};this.resumeSession()};
fb.simplelogin.client.prototype.setApiHost=function(a){fb.simplelogin.Vars.setApiHost(a)};goog.exportSymbol("fb.simplelogin.client.prototype.setApiHost",fb.simplelogin.client.prototype.setApiHost);
fb.simplelogin.client.prototype.resumeSession=function(){var a=this,d;try{d=sessionStorage.getItem("firebaseRequestId"),sessionStorage.removeItem("firebaseRequestId")}catch(e){}if(d){var f=fb.simplelogin.transports.JSONP;fb.simplelogin.transports.XHR.isAvailable()&&(f=fb.simplelogin.transports.XHR);f.open(fb.simplelogin.Vars.getApiHost()+"/auth/session",{requestId:d,firebase:a.mNamespace},function(d,e){e&&e.token&&e.user?a.attemptAuth(e.token,e.user,!0):d?(fb.simplelogin.SessionStore.clear(),a.mLoginStateChange(d)):
(fb.simplelogin.SessionStore.clear(),a.mLoginStateChange(null,null))})}else(d=fb.simplelogin.SessionStore.get())&&d.token&&d.user?a.attemptAuth(d.token,d.user,!1):a.mLoginStateChange(null,null)};
fb.simplelogin.client.prototype.attemptAuth=function(a,d,e,f,g){var h=this;this.mRef.auth(a,function(k,l){k?(fb.simplelogin.SessionStore.clear(),h.mLoginStateChange(null,null),g&&g()):(e&&fb.simplelogin.SessionStore.set({token:a,user:d,sessionKey:d.sessionKey},h.sessionLengthDays),"function"==typeof l&&l(),delete d.sessionKey,d.firebaseAuthToken=a,h.mLoginStateChange(null,d),f&&f(d))},function(a){fb.simplelogin.SessionStore.clear();h.mLoginStateChange(null,null);g&&g()})};
fb.simplelogin.client.prototype.login=function(){fb.simplelogin.util.validation.validateString("FirebaseSimpleLogin.login()",1,arguments[0],!1);fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.login()",1,2,arguments.length);var a=arguments[0].toLowerCase(),d=arguments[1]||{};this.sessionLengthDays=d.rememberMe?30:null;switch(a){case "anonymous":return this.loginAnonymously(d);case "facebook-token":return this.loginWithFacebookToken(d);case "github":return this.loginWithGithub(d);
case "google-token":return this.loginWithGoogleToken(d);case "password":return this.loginWithPassword(d);case "persona":return this.loginWithPersona(d);case "twitter-token":return this.loginWithTwitterToken(d);case "facebook":return d.access_token?this.loginWithFacebookToken(d):this.loginWithFacebook(d);case "google":return d.access_token?this.loginWithGoogleToken(d):this.loginWithGoogle(d);case "twitter":return d.oauth_token&&d.oauth_token_secret?this.loginWithTwitterToken(d):this.loginWithTwitter(d);
default:throw Error("FirebaseSimpleLogin.login("+a+") failed: unrecognized authentication provider");}};goog.exportSymbol("fb.simplelogin.client.prototype.login",fb.simplelogin.client.prototype.login);
fb.simplelogin.client.prototype.loginAnonymously=function(a){var d=this;return new fb.simplelogin.util.RSVP.Promise(function(e,f){a.firebase=d.mNamespace;a.v=CLIENT_VERSION;fb.simplelogin.transports.JSONP.open(fb.simplelogin.Vars.getApiHost()+"/auth/anonymous",a,function(a,h){if(a||!h.token){var k=fb.simplelogin.Errors.format(a);d.mLoginStateChange(k,null);f(k)}else d.attemptAuth(h.token,h.user,!0,e,f)})})};
fb.simplelogin.client.prototype.loginWithPassword=function(a){var d=this;return new fb.simplelogin.util.RSVP.Promise(function(e,f){a.firebase=d.mNamespace;a.v=CLIENT_VERSION;fb.simplelogin.providers.Password.login(a,function(a,h){if(a||!h.token){var k=fb.simplelogin.Errors.format(a);d.mLoginStateChange(k,null);f(k)}else d.attemptAuth(h.token,h.user,!0,e,f)})})};fb.simplelogin.client.prototype.loginWithGithub=function(a){a.height=850;a.width=950;return this.loginViaOAuth("github",a)};
fb.simplelogin.client.prototype.loginWithGoogle=function(a){a.height=650;a.width=575;return this.loginViaOAuth("google",a)};fb.simplelogin.client.prototype.loginWithFacebook=function(a){a.height=400;a.width=535;return this.loginViaOAuth("facebook",a)};fb.simplelogin.client.prototype.loginWithTwitter=function(a){return this.loginViaOAuth("twitter",a)};fb.simplelogin.client.prototype.loginWithFacebookToken=function(a){return this.loginViaToken("facebook",a)};
fb.simplelogin.client.prototype.loginWithGoogleToken=function(a){return this.loginViaToken("google",a)};fb.simplelogin.client.prototype.loginWithTwitterToken=function(a){return this.loginViaToken("twitter",a)};
fb.simplelogin.client.prototype.loginWithPersona=function(a){fb.simplelogin.util.misc.warn("Persona authentication in Firebase Simple Login has been deprecated. Persona will be removed as an authentication provider at the end of May, 2014 with version 2.0.0.");var d=this;if(!navigator.id)throw Error("FirebaseSimpleLogin.login(persona): Unable to find Persona include.js");return new fb.simplelogin.util.RSVP.Promise(function(e,f){fb.simplelogin.providers.Persona.login(a,function(a){null===a?callback(fb.simplelogin.Errors.get("UNKNOWN_ERROR")):
fb.simplelogin.transports.JSONP.open(fb.simplelogin.Vars.getApiHost()+"/auth/persona/token",{firebase:d.mNamespace,assertion:a,v:CLIENT_VERSION},function(a,g){if(!a&&g.token&&g.user)d.attemptAuth(g.token,g.user,!0,e,f);else{var l=fb.simplelogin.Errors.format(a);d.mLoginStateChange(l,null);f(l)}})})})};fb.simplelogin.client.prototype.logout=function(){fb.simplelogin.SessionStore.clear();this.mRef.unauth();this.mLoginStateChange(null,null)};
goog.exportSymbol("fb.simplelogin.client.prototype.logout",fb.simplelogin.client.prototype.logout);
fb.simplelogin.client.prototype.loginViaToken=function(a,d,e){d=d||{};d.v=CLIENT_VERSION;var f=this,g=fb.simplelogin.Vars.getApiHost()+"/auth/"+a+"/token?firebase="+f.mNamespace;return new fb.simplelogin.util.RSVP.Promise(function(a,e){fb.simplelogin.transports.JSONP.open(g,d,function(d,g){if(!d&&g.token&&g.user)f.attemptAuth(g.token,g.user,!0,a,e);else{var p=fb.simplelogin.Errors.format(d);f.mLoginStateChange(p);e(p)}})})};
fb.simplelogin.client.prototype.loginViaOAuth=function(a,d,e){d=d||{};var f=this,g=fb.simplelogin.Vars.getApiHost()+"/auth/"+a+"?firebase="+f.mNamespace;d.scope&&(g+="&scope="+d.scope);g+="&v="+encodeURIComponent(CLIENT_VERSION);a={menubar:0,location:0,resizable:0,scrollbars:1,status:0,dialog:1,width:700,height:375};d.height&&(a.height=d.height,delete d.height);d.width&&(a.width=d.width,delete d.width);e=fb.simplelogin.util.env.isMobileCordovaInAppBrowser()?"mobile-phonegap":fb.simplelogin.util.env.isMobileTriggerIoTab()?
"mobile-triggerio":fb.simplelogin.util.env.isWindowsMetro()?"windows-metro":"desktop";var h;if("desktop"===e){h=fb.simplelogin.transports.WinChan;e=[];for(var k in a)e.push(k+"="+a[k]);d.url+="&transport=winchan";d.relay_url=fb.simplelogin.Vars.getApiHost()+"/auth/channel";d.window_features=e.join(",")}else"mobile-phonegap"===e?h=fb.simplelogin.transports.CordovaInAppBrowser:"mobile-triggerio"===e?h=fb.simplelogin.transports.TriggerIoTab:"windows-metro"===e&&(h=fb.simplelogin.transports.WindowsMetroAuthBroker);
if(d.preferRedirect||fb.simplelogin.util.env.isChromeiOS()||fb.simplelogin.util.env.isWindowsPhone()||fb.simplelogin.util.env.isStandaloneiOS()||fb.simplelogin.util.env.isTwitteriOS()||fb.simplelogin.util.env.isFacebookiOS()){k=goog.string.getRandomString()+goog.string.getRandomString();try{sessionStorage.setItem("firebaseRequestId",k)}catch(l){}g+="&requestId="+k+"&fb_redirect_uri="+encodeURIComponent(window.location.href);window.location=g}else return new fb.simplelogin.util.RSVP.Promise(function(a,
e){h.open(g,d,function(d,g){if(g&&g.token&&g.user)f.attemptAuth(g.token,g.user,!0,a,e);else{var h=d||{code:"UNKNOWN_ERROR",message:"An unknown error occurred."};"unknown closed window"===d?h={code:"USER_DENIED",message:"User cancelled the authentication request."}:g&&g.error&&(h=g.error);h=fb.simplelogin.Errors.format(h);f.mLoginStateChange(h);e(h)}})})};
fb.simplelogin.client.prototype.manageFirebaseUsers=function(a,d,e){d.firebase=this.mNamespace;return new fb.simplelogin.util.RSVP.Promise(function(f,g){fb.simplelogin.providers.Password[a](d,function(a,d){if(a){var l=fb.simplelogin.Errors.format(a);g(l);return e&&e(l,null)}f(d);return e&&e(null,d)})})};fb.simplelogin.client.prototype.createUser=function(a,d,e){return this.manageFirebaseUsers("createUser",{email:a,password:d},e)};goog.exportSymbol("fb.simplelogin.client.prototype.createUser",fb.simplelogin.client.prototype.createUser);
fb.simplelogin.client.prototype.changePassword=function(a,d,e,f){return this.manageFirebaseUsers("changePassword",{email:a,oldPassword:d,newPassword:e},function(a){return f&&f(a)})};goog.exportSymbol("fb.simplelogin.client.prototype.changePassword",fb.simplelogin.client.prototype.changePassword);fb.simplelogin.client.prototype.removeUser=function(a,d,e){return this.manageFirebaseUsers("removeUser",{email:a,password:d},function(a){return e&&e(a)})};
goog.exportSymbol("fb.simplelogin.client.prototype.removeUser",fb.simplelogin.client.prototype.removeUser);fb.simplelogin.client.prototype.sendPasswordResetEmail=function(a,d){return this.manageFirebaseUsers("sendPasswordResetEmail",{email:a},function(a){return d&&d(a)})};goog.exportSymbol("fb.simplelogin.client.prototype.sendPasswordResetEmail",fb.simplelogin.client.prototype.sendPasswordResetEmail);fb.simplelogin.client.onOpen=function(a){fb.simplelogin.transports.WinChan.onOpen(a)};
goog.exportSymbol("fb.simplelogin.client.onOpen",fb.simplelogin.client.onOpen);fb.simplelogin.client.VERSION=function(){return CLIENT_VERSION};goog.exportSymbol("fb.simplelogin.client.VERSION",fb.simplelogin.client.VERSION);var FirebaseSimpleLogin=function(a,d,e,f){fb.simplelogin.util.validation.validateArgCount("new FirebaseSimpleLogin",1,4,arguments.length);fb.simplelogin.util.validation.validateCallback("new FirebaseSimpleLogin",2,d,!1);if(goog.isString(a))throw Error("new FirebaseSimpleLogin(): Oops, it looks like you passed a string instead of a Firebase reference (i.e. new Firebase(<firebaseURL>)).");var g=fb.simplelogin.util.misc.parseSubdomain(a.toString());if(!goog.isString(g))throw Error("new FirebaseSimpleLogin(): First argument must be a valid Firebase reference (i.e. new Firebase(<firebaseURL>)).");
var h=new fb.simplelogin.client(a,d,e,f);return{setApiHost:function(a){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.setApiHost",1,1,arguments.length);return h.setApiHost(a)},login:function(){return h.login.apply(h,arguments)},logout:function(){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.logout",0,0,arguments.length);return h.logout()},createUser:function(a,d,e){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.createUser",3,3,arguments.length);
fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.createUser",3,e,!1);return h.createUser(a,d,e)},changePassword:function(a,d,e,f){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.changePassword",4,4,arguments.length);fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.changePassword",4,f,!1);return h.changePassword(a,d,e,f)},removeUser:function(a,d,e){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.removeUser",3,3,arguments.length);
fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.removeUser",3,e,!1);return h.removeUser(a,d,e)},sendPasswordResetEmail:function(a,d){fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.sendPasswordResetEmail",2,2,arguments.length);fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.sendPasswordResetEmail",2,d,!1);return h.sendPasswordResetEmail(a,d)}}};goog.exportSymbol("FirebaseSimpleLogin",FirebaseSimpleLogin);FirebaseSimpleLogin.onOpen=function(a){fb.simplelogin.client.onOpen(a)};
goog.exportProperty(FirebaseSimpleLogin,"onOpen",FirebaseSimpleLogin.onOpen);FirebaseSimpleLogin.VERSION=fb.simplelogin.client.VERSION();})();
